{
	'variables': {
		'TURTL_NW': '0'
	},
	'targets': [{
		'target_name': 'turtl',
		'sources': ['msg.cpp', 'turtl.cpp'],
		'include_dirs': [
			"<!(node -e \"require('nan')\")",
			"../../core/src"
		],
		'defines': [
			'TURTL_NW=<(TURTL_NW)'
		],
		'conditions': [
			[
				'OS=="win"',
				{
					'link_settings': {
						'libraries': ['turtl.lib'],
					},
					'msvs_settings': {
						'VCCLCompilerTool': {
							'ExceptionHandling': "0",
							'AdditionalOptions': [
								'/MP /EHsc'
							]
						}
					}
				}
			],
			[
				'OS=="linux"',
				{
					'ldflags': [
						'-Wl,-rpath=node_modules/turtl/build'
					],
					'link_settings': {
						'libraries': ['turtl.so'],
					}
				}
			],
			[
				'OS=="mac"',
				{
					'link_settings': {
						'libraries': ['../../../turtl.dylib'],
					},
					'architecture': 'i386'
				}
			]
		]

	}]
}

